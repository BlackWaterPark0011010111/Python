Логирование в Python: простой проект с email и базой данных
Привет! Это мой проект, где я разобралась, как работает логирование в Python. Здесь логи можно увидеть в консоли, записывать в файл, а если случится ошибка – отправить email! Плюс, всё это ещё и сохраняется в базу данных SQLite.

Этот проект поможет понять, как отслеживать ошибки и важные события, а также как получать уведомления, если что-то пошло не так.

Как устроены файлы
bash
Копировать
Редактировать
project_folder/
├── main.py             # Запускает весь проект  
├── module_a.py         # Тут есть ошибка для теста  
├── module_b.py         # Логируем какие-то события  
├── async_worker.py     # Асинхронная задача, которая логирует  
└── custom_handler.py   # Тут обработка логов и отправка email  
Как запустить?
1. Скачиваем проект
Сначала клонируем репозиторий:

bash
Копировать
Редактировать
git clone https://github.com/yourusername/logging-project.git
cd logging-project
2. Устанавливаем зависимости
Ничего устанавливать не нужно! Всё работает на стандартных библиотеках Python.

3. Настраиваем email (если надо)
Если хотите получать ошибки на email, откройте custom_handler.py и:

Замените your_email@example.com на свой email
Замените receiver_email@example.com на email, куда отправлять ошибки
Напишите пароль от почты (или используйте пароль приложения, если Gmail)
Если email-уведомления не нужны, просто удалите эти строки – проект всё равно будет работать.

4. Запускаем проект
Просто запустите:

bash
Копировать
Редактировать
python main.py
5. Что произойдёт?
Все ошибки запишутся в app.log
Если будет критическая ошибка, на email придёт уведомление
Все ошибки сохранятся в базе SQLite
Как это работает?
Логирование: проект записывает события разного уровня (DEBUG, ERROR, CRITICAL). Логи идут в консоль, файл и email.
Асинхронные задачи: в async_worker.py есть функция, которая логирует в асинхронном режиме. Это полезно для тестирования.
Обработчик логов: специальный обработчик (custom_handler.py) записывает ошибки в базу и отправляет email при критических сбоях.
Пример ошибки в консоли:
vbnet
Копировать
Редактировать
2025-01-30 10:00:00,000 - async_worker - ERROR - Ошибка в асинхронной задаче
ОШИБКА: 2025-01-30 10:00:00,000 - async_worker - ERROR - Ошибка в асинхронной задаче
Email отправлен успешно.
Лог записан в базу данных.
А если настроен email, придёт письмо с темой "Critical Error Notification".

Важно знать!
Логирование помогает понимать, что происходит в приложении.
Email-уведомления – удобная штука, но важно следить за безопасностью (используйте пароль приложения).
В этом проекте логи хранятся в SQLite, но в реальных проектах можно использовать PostgreSQL или MySQL.
Технологии
Python 3.x
Логирование (встроенная библиотека)
SQLite (для хранения логов)
SMTP (для отправки email)